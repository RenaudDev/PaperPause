# 3.0.1 — Expandable Vault

**Epic**: `3 - Collection UX Overhaul`

## Goal
Implement soft pagination that caps initial view to 24 items while ensuring the full vault is searchable via filters and expandable on demand — without changing the existing teal header or gallery design.

## Scope

### Template Changes (`list.html`)
- Iterate over collection items in the existing masonry grid:
  - For items 1-24: render normally (current behavior).
  - For items 25+: add `class="hidden"` to the `.masonry-item` wrapper.
  - For items 25+: add `loading="lazy"` to the `<img>` tag.
- Insert "Show All" button after item #24 (inside or after `.masonry-grid`, only if collection has >24 items).

### JavaScript Updates (inline or new `vault.js`)
- **"Show All" Button Handler**:
  - Remove `hidden` class from all `.masonry-item` elements.
  - Hide the "Show All" button itself.
- **Filter Force-Expand**:
  - Modify existing `updateFilters()` or add hook: before applying filter logic, call `forceExpandVault()`.
  - `forceExpandVault()` removes `hidden` class from all items and hides "Show All" button.

### CSS Updates
- Add `.masonry-item.hidden { display: none; }` utility class.
- Style "Show All" button to match site design (teal accent, rounded, hover effect).
- Optional: add reveal transition (fade-in for newly visible items).

## Acceptance criteria
- [ ] **Existing UI unchanged**: Teal header, sidebar filters, and gallery grid layout are identical to before.
- [ ] Collection pages with ≤24 items render normally without "Show All" button.
- [ ] Collection pages with >24 items show exactly 24 items initially; remaining are hidden.
- [ ] Hidden images have `loading="lazy"` attribute.
- [ ] "Show All" button is visible and positioned correctly (e.g., below last visible row or at grid end).
- [ ] Clicking "Show All" reveals all hidden items and hides the button.
- [ ] Selecting any filter automatically expands vault before applying filter logic.
- [ ] Core Web Vitals are not degraded (LCP, CLS, INP remain green).

## Rollback
- Remove the Hugo template logic for hidden items and "Show All" button.
- Remove JavaScript changes for vault expansion.
- Remove CSS additions for `.hidden` class and button styling.
